#@TYPE: Machine
#@NAME: accton-as4610-30 

#@DESCRIPTION: Machine configuration for accton-as4610-30 systems

require conf/platform-profiles/platform-accton.inc

PREFERRED_PROVIDER_virtual/kernel ?= "linux-yocto"
PREFERRED_VERSION_linux-yocto ?= "5.4%"
PREFERRED_PROVIDER_virtual/bootloader ?= "u-boot"
require conf/machine/include/tune-cortexa9.inc

MACHINE_FEATURES_remove += "alsa"

ONIE_VENDOR="accton"

KERNEL_CLASSES += "kernel-fitimage"
KERNEL_IMAGETYPE = "fitImage"
KERNEL_DEVICETREE = "arm-accton-as4610.dtb"

MACHINE_EXTRA_RRECOMMENDS = "kernel-modules kernel-devicetree"

EXTRA_IMAGEDEPENDS += "u-boot"

IMAGE_INSTALL_append = " kernel-devicetree kernel-image-zimage"

UBOOT_ENTRYPOINT = "0x61008000"
UBOOT_LOADADDRESS = "0x61008000"
KERNEL_EXTRA_ARGS = "LOADADDR=0x61008000"

ONL_ARCH = "armhf"
ONIE_ARCH = "armhf"

MACHINEOVERRIDES =. "as4610-30:"
